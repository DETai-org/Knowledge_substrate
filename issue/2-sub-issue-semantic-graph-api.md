# Sub-Issue 2: Semantic Graph API & Preflight Hardening

## Title
API‚Äë–≤—ã–¥–∞—á–∞ –≥—Ä–∞—Ñ–∞ publish‚Äë–ø–æ—Å—Ç–æ–≤ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ preflight.

## Purpose
–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å API‚Äë—ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –≤—ã–¥–∞—á–∏ –≥—Ä–∞—Ñ–∞ publish‚Äë–ø–æ—Å—Ç–æ–≤ –∏ –∑–∞–∫—Ä—ã—Ç—å
–¥–æ—Ä–∞–±–æ—Ç–∫–∏ preflight, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –≤—ã–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø–∞–π–ø–ª–∞–π–Ω–∞.

## Tasks (Acceptance Checklist)

### 1) API: Expose similarity graph endpoint
–ö–æ—Ä–æ—Ç–∫–æ: –æ—Ç–¥–∞—Ç—å publish‚Äë–≥—Ä–∞—Ñ —á–µ—Ä–µ–∑ API –≤ —Ñ–æ—Ä–º–∞—Ç–µ nodes + edges.

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å endpoint `/graph`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π nodes –∏ edges.
  - Implementation Steps:
    - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ—Ç–≤–µ—Ç–∞ –∏ –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö.
- [ ] –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã–±–æ—Ä–∫—É publish‚Äë–ø–æ—Å—Ç–∞–º–∏ –∏ –≤–∞–ª–∏–¥–Ω—ã–º–∏ —Ä—ë–±—Ä–∞–º–∏.
  - Implementation Steps:
    - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ status/type –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ edges.
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã: channel, year_from/year_to, rubric_id, category_id, limit_nodes.
  - Implementation Steps:
    - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å query‚Äë–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∏—Ö –≤–∞–ª–∏–¥–∞—Ü–∏—é.
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ JSON —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –∏ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç—Å—è Next.js.
  - Implementation Steps:
    - –ü—Ä–æ–≥–Ω–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞.

## Verification Notes
–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –±—É–¥–µ—Ç —Å—á–∏—Ç–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π, –∫–æ–≥–¥–∞ –≥—Ä–∞—Ñ–æ–≤—ã–µ —Å–≤—è–∑–∏ –≤–∏–∑—É–∞–ª—å–Ω–æ
–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É API.

## üöö Delivery
Branch: `<branch-name>`
PR: `<#id or link>`

# Sub-Issue 1: Semantic Graph (Postgres + Ingest + Embeddings)

## Title
–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ –¥–ª—è publish‚Äë–ø–æ—Å—Ç–æ–≤: –±–∞–∑–∞, ingest –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞.

## Purpose
–°–æ–±—Ä–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—É—Ä –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞—Ñ–∞ publish‚Äë–ø–æ—Å—Ç–æ–≤
–≤–∫–ª—é—á–∞—è –ë–î‚Äë—Å—Ö–µ–º—É, ingest –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ similarity‚Äë–≥—Ä–∞—Ñ–∞.
–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–æ—Ç–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API‚Äë—Å–ª–æ–µ–º –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π.

---

## Tasks (Acceptance Checklist)

### 1) DB migrations: pgvector + similarity_edges
–ö–æ—Ä–æ—Ç–∫–æ: –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å Postgres‚Äë—Å—Ö–µ–º—É –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ undirected similarity‚Äëgraph.

#### Purpose
–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ SQL‚Äë–º–∏–≥—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–∫–ª—é—á–∞—é—Ç pgvector,
—Å–æ–∑–¥–∞—é—Ç —Ç–∞–±–ª–∏—Ü—É similarity‚Äë–≥—Ä–∞—Ñ–∞ –∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç embeddings –±–µ–∑ –ª–æ–º–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

#### Acceptance Tasks
- [x] –í–∫–ª—é—á–∏—Ç—å pgvector (CREATE EXTENSION IF NOT EXISTS vector).
  - Implementation Steps:
    - –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgvector –≤ –±–∞–∑–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é knowledge_core.
- [x] –°–æ–∑–¥–∞—Ç—å knowledge.similarity_edges —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ CHECK (source_id < target_id).
  - Implementation Steps:
    - –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –≤ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä—ë–±–µ—Ä.
- [x] –î–æ–±–∞–≤–∏—Ç—å CHECK (weight –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 0..1) –∏ UNIQUE (source_id, target_id, doc_type, method).
  - Implementation Steps:
    - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω similarity –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Ä–µ–±—Ä–∞ –ø–æ —Ç–∏–ø—É/–º–µ—Ç–æ–¥—É.
- [x] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã: source_id, target_id, weight DESC.
  - Implementation Steps:
    - –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –ø–æ source/target –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ weight.
- [x] –î–æ–±–∞–≤–∏—Ç—å FK –Ω–∞ knowledge.documents(id) —Å ON DELETE CASCADE (–µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞/—Ç–∏–ø –ø–æ–¥—Ö–æ–¥—è—Ç), –∏–Ω–∞—á–µ –æ–ø–∏—Å–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è FK.
  - Implementation Steps:
    - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∫–∞–∑ –æ—Ç FK –∏–∑‚Äë–∑–∞ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤ (documents.id = BIGINT, source/target_id = TEXT).
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å knowledge.embeddings –¥–ª—è doc‚Äëlevel embeddings –±–µ–∑ –ª–æ–º–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.
  - Implementation Steps:
    - –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É embeddings –ø–æ–ª—è–º–∏ doc_type, source_hash, updated_at.
- [x] –û–±–Ω–æ–≤–∏—Ç—å detai-core/workspace/db/README.md (pgvector, similarity_edges, undirected constraints).
  - Implementation Steps:
    - –î–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—Ç–∫—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é, —Ç–∞–±–ª–∏—Ü–µ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º.

---

### 2) Ingest: Extract publish-posts from SoT
–ö–æ—Ä–æ—Ç–∫–æ: —Å–æ–±—Ä–∞—Ç—å publish‚Äë–ø–æ—Å—Ç—ã –∏–∑ SoT –≤ –≤–∏–¥–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

#### Purpose
–ò–∑–≤–ª–µ—á—å –≤—Å–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ post –∏–∑ Source of Truth (Markdown + frontmatter)
–∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∏—Ö –∫ –µ–¥–∏–Ω–æ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö —ç—Ç–∞–ø–æ–≤
(embeddings ‚Üí similarity graph ‚Üí DB/API).

#### Acceptance Tasks
- [x] –ü—Ä–æ–π—Ç–∏ –ø–æ –ø—É—Ç—è–º SoT —Å –ø–æ—Å—Ç–∞–º–∏, —Å—á–∏—Ç–∞—Ç—å markdown‚Äë—Ñ–∞–π–ª—ã, –∏–∑–≤–ª–µ—á—å frontmatter –∏ body.
  - Implementation Steps:
    - –°–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å ingest_pipeline/posts —Å –ø–æ–∏—Å–∫–æ–º markdown‚Äë—Ñ–∞–π–ª–æ–≤ –∏ –ø–∞—Ä—Å–∏–Ω–≥–æ–º frontmatter.
- [x] –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ publish‚Äë–ø–æ—Å—Ç—ã (type == "post", administrative.status == "publish").
  - Implementation Steps:
    - –û—Ç—Å–µ–∫–∞—Ç—å –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∏–ª—å—Ç—Ä–∞ meta.
- [x] –ü–æ—Å—Ç—Ä–æ–∏—Ç—å text_for_embedding (–æ—á–∏—Å—Ç–∫–∞ markdown, title + "\n\n" + body_text).
  - Implementation Steps:
    - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—á–∏—Å—Ç–∫—É markdown –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º WP‚Äë12 –∏ —Å–±–æ—Ä–∫—É —Ç–µ–∫—Å—Ç–∞ –¥–ª—è embedding.
- [x] –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –ø–æ—Å—Ç–∞ (id, title, authors, date_ymd, channels, taxonomy, text_for_embedding).
  - Implementation Steps:
    - –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å PostExtracted —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏/–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏, source_path –∏ source_hash.

---

### 3) Embeddings & Graph Builder
–ö–æ—Ä–æ—Ç–∫–æ: —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å Top‚ÄëK –≥—Ä–∞—Ñ —Å–≤—è–∑–µ–π.

#### Purpose

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ —Å–º—ã—Å–ª–æ–≤–æ–π –±–ª–∏–∑–æ—Å—Ç–∏ –¥–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ç–∏–ø–∞ `post`:

* —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å **document-level embeddings** (1 –≤–µ–∫—Ç–æ—Ä –Ω–∞ –ø–æ—Å—Ç);
* –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–µ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å **undirected weighted similarity graph**;
* —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å embeddings –∏ —Ä—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ –≤ **Operational Store (Postgres)**.

–ì—Ä–∞—Ñ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* –≤—ã—è–≤–ª–µ–Ω–∏—è —Å–º—ã—Å–ª–æ–≤—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤;
* –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –ø–æ—Å—Ç–∞–º–∏;
* –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ç—É–ª–∞—Ç–æ–≤ **DET**.


#### Acceptance Tasks
- [x] –î–æ–±–∞–≤–∏—Ç—å config.json –∏ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç CLI ‚Üí config ‚Üí env ‚Üí defaults.
  - Implementation Steps:
    - –°–æ–∑–¥–∞—Ç—å `knowledge_core/ingest_pipeline/config.json` –∏ –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –ø–∞–π–ø–ª–∞–π–Ω–µ.
- [x] –û–±–µ—Å–ø–µ—á–∏—Ç—å runnable CLI entrypoint –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ª–æ–≥–∏ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ—Å—Ç–æ–≤/embeddings/edges.
  - Implementation Steps:
    - –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã CLI, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω—ã–µ embeddings –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ edges.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å: retry —Å backoff, —Å–Ω–∏–∂–µ–Ω–∏–µ batch –∏ –ª–∏–º–∏—Ç –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞.
  - Implementation Steps:
    - –î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Ç—Ä–∞–∏, —É–º–µ–Ω—å—à–µ–Ω–∏–µ batch –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏ —É—Å–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å –ª–æ–≥–æ–º.
- [x] –î–æ–±–∞–≤–∏—Ç—å preflight, dry-run –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ª–æ–≥–∏ —Å run_id/stage.
  - Implementation Steps:
    - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å preflight check, dry-run —Ä–µ–∂–∏–º –∏ stage-–ª–æ–≥–∏ —Å —Å—á—ë—Ç—á–∏–∫–∞–º–∏.
- [x] –î–æ–±–∞–≤–∏—Ç—å GitHub Actions workflow –¥–ª—è self-hosted runner.
  - Implementation Steps:
    - –°–æ–∑–¥–∞—Ç—å workflow —Å `workflow_dispatch`, —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∑–∞–ø—É—Å–∫–æ–º –ø–∞–π–ø–ª–∞–π–Ω–∞.
- [x] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ README, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ env (–ª–æ–∫–∞–ª—å–Ω–æ –∏ Actions).
  - Implementation Steps:
    - –û–±–Ω–æ–≤–∏—Ç—å ingest_pipeline/README.md —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø–æ env –∏ config.

### 4) Ingest: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ README –∏ –∫–æ—Å–º–µ—Ç–∏–∫–∞ –ª–æ–≥–æ–≤
–ö–æ—Ä–æ—Ç–∫–æ: —É–±—Ä–∞—Ç—å README –∏–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Å—Ç–æ–≤ –∏ —Å–¥–µ–ª–∞—Ç—å –ª–æ–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º–∏.

#### Purpose
–ò—Å–∫–ª—é—á–∏—Ç—å —Å–ª—É–∂–µ–±–Ω—ã–µ README.md –∏–∑ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤ –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –ª–æ–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ –∫
—á–∏—Ç–∞–µ–º–æ–º—É –≤–∏–¥—É —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–æ–∫, —á—Ç–æ–±—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±—ã–ª–∞ –ø—Ä–æ—â–µ.

#### Acceptance Tasks
- [x] –ò—Å–∫–ª—é—á–∏—Ç—å README.md –∏–∑ –æ–±—Ö–æ–¥–∞ markdown-—Ñ–∞–π–ª–æ–≤ –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π.
  - Implementation Steps:
    - –û–±–Ω–æ–≤–∏—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä markdown-—Ñ–∞–π–ª–æ–≤, —Ñ–∏–ª—å—Ç—Ä—É—è README.md –ø–æ –∏–º–µ–Ω–∏.
- [x] –°–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø–æ—Å—Ç–æ–≤ –∏ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π —ç–º–æ–¥–∑–∏.
  - Implementation Steps:
    - –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ warning ‚Üí info –∏ –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä üìÉ—Ö2‚òùÔ∏è –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö post id.
- [x] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã –≤ –ª–æ–≥–∏ —ç—Ç–∞–ø–æ–≤/–æ—à–∏–±–æ–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞.
  - Implementation Steps:
    - –î–æ–±–∞–≤–∏—Ç—å emoji-–ø—Ä–µ—Ñ–∏–∫—Å—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ª–æ–≥–∏ —ç—Ç–∞–ø–æ–≤ –∏ –æ—à–∏–±–æ–∫.
    - –ü—Ä–æ—Å—Ç–∞–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –≤ –ª–æ–≥–∞—Ö fallback-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
- [x] –†–∞–∑–¥–µ–ª–∏—Ç—å preflight-–ø—Ä–æ–≤–µ—Ä–∫—É OpenAI –Ω–∞ —Ñ–æ—Ä–º–∞—Ç –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
  - Implementation Steps:
    - –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –∫–ª—é—á –∑–∞–¥–∞–Ω –∏ –ø–æ—Ö–æ–∂ –Ω–∞ –≤–∞–ª–∏–¥–Ω—ã–π (–±–µ–∑ —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤).
    - –í—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π embeddings-–∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ –¥–ª—è non-dry-run.

### 5) Ingest: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞
–ö–æ—Ä–æ—Ç–∫–æ: –¥–æ—Ä–∞–±–æ—Ç–∫–∏ preflight –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏, –ø–æ—è–≤–∏–≤—à–∏–µ—Å—è –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

#### Purpose
–£–∫—Ä–µ–ø–∏—Ç—å preflight‚Äë–ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–Ω–∏–∑–∏—Ç—å —Ä–∏—Å–∫ –¥—É–±–ª–µ–π publish‚Äë–ø–æ—Å—Ç–æ–≤.

#### Acceptance Tasks
- [x] –û—Å–ª–∞–±–∏—Ç—å preflight‚Äë–ø—Ä–æ–≤–µ—Ä–∫—É DATABASE_URL –≤ –ø–æ–ª—å–∑—É –ø–æ–ª–Ω–æ–≥–æ DSN.
  - Implementation Steps:
    - –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç DSN –∏ –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏.
- [x] –°–¥–µ–ª–∞—Ç—å OPENAI_API_KEY —É—Å–ª–æ–≤–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π (dry‚Äërun / non‚Äëopenai).
  - Implementation Steps:
    - –†–∞–∑–¥–µ–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è dry‚Äërun –∏ –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞.
- [x] –î–æ–±–∞–≤–∏—Ç—å structured log –¥–ª—è –æ—à–∏–±–æ–∫ preflight.
  - Implementation Steps:
    - –ü—Ä–æ—Å—Ç–∞–≤–∏—Ç—å –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫ –¥–ª—è preflight.
- [x] –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é publish‚Äë–ø–æ—Å—Ç–æ–≤ –ø–æ administrative.id —Å prefer_channel.
  - Implementation Steps:
    - –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π –∫–∞–Ω–∞–ª –∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏.

## Verification Notes
–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ, —á—Ç–æ publish‚Äë–ø–æ—Å—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –≤—ã–¥–∞—á–∏ –≤ API‚Äë—Å–ª–æ–µ.

## Document package
- ADR: [ADR-0001: Semantic Similarity Graph for Posts](../knowledge_core/ADR/adr-0001-semantic-similarity-graph-posts.md)
- Guide: [Guide: Semantic Similarity Graph for Posts](../knowledge_core/guides/guide-semantic-graph-posts.md)
- Policy: [Policy: Semantic Graph for Posts](../knowledge_core/Policy/policy-semantic-graph-posts.md)

## üöö Delivery
Branch: `<branch-name>`
PR: [#95](https://github.com/DETai-org/Knowledge_substrate/pull/95)
